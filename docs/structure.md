moon-calendar-api/
‚îú‚îÄ‚îÄ README.md                 # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ requirements.txt          # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ config.py                # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ main.py                  # –û—Å–Ω–æ–≤–Ω–æ–µ FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ run.py                   # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
‚îú‚îÄ‚îÄ test_client.py           # –¢–µ—Å—Ç–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç
‚îÇ
‚îú‚îÄ‚îÄ modules/                 # –ú–æ–¥—É–ª–∏ –ø–∞—Ä—Å–µ—Ä–æ–≤ (–¥–ª—è –±—É–¥—É—â–µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è)
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ moon_calendar/       # –¢–µ–∫—É—â–∏–π –º–æ–¥—É–ª—å –ª—É–Ω–Ω–æ–≥–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ parser.py        # –õ–æ–≥–∏–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ models.py        # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ runes/              # –ë—É–¥—É—â–∏–π –º–æ–¥—É–ª—å —Ä—É–Ω
‚îÇ   ‚îú‚îÄ‚îÄ tarot/              # –ë—É–¥—É—â–∏–π –º–æ–¥—É–ª—å —Ç–∞—Ä–æ
‚îÇ   ‚îî‚îÄ‚îÄ natal_chart/        # –ë—É–¥—É—â–∏–π –º–æ–¥—É–ª—å –Ω–∞—Ç–∞–ª—å–Ω—ã—Ö –∫–∞—Ä—Ç
‚îÇ
‚îú‚îÄ‚îÄ core/                   # –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ cache.py           # –ú–µ–Ω–µ–¥–∂–µ—Ä –∫—ç—à–∞
‚îÇ   ‚îú‚îÄ‚îÄ exceptions.py      # –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ utils.py           # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ
‚îú‚îÄ‚îÄ api/                   # API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ v1/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ moon_calendar.py  # –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –ª—É–Ω–Ω–æ–≥–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ health.py         # Health check —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ middleware.py      # Middleware –¥–ª—è API
‚îÇ
‚îú‚îÄ‚îÄ tests/                 # –¢–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ test_parser.py     # –¢–µ—Å—Ç—ã –ø–∞—Ä—Å–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ test_cache.py      # –¢–µ—Å—Ç—ã –∫—ç—à–∞
‚îÇ   ‚îî‚îÄ‚îÄ test_api.py        # –¢–µ—Å—Ç—ã API
‚îÇ
‚îú‚îÄ‚îÄ logs/                  # –õ–æ–≥–∏ (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îú‚îÄ‚îÄ .env.example          # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ .gitignore            # Git ignore —Ñ–∞–π–ª
‚îî‚îÄ‚îÄ docker/               # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    ‚îú‚îÄ‚îÄ Dockerfile
    ‚îî‚îÄ‚îÄ docker-compose.yml

–ò–ù–°–¢–†–£–ö–¶–ò–ò –ü–û –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–Æ:

1. –õ–û–ö–ê–õ–¨–ù–ê–Ø –†–ê–ó–†–ê–ë–û–¢–ö–ê:
   ```bash
   git clone <repository>
   cd moon-calendar-api
   pip install -r requirements.txt
   python run.py
   ```

2. –ü–†–û–î–ê–ö–®–ù –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–ï:
   ```bash
   # –ù–∞ VPS —Å–µ—Ä–≤–µ—Ä–µ
   git clone <repository>
   cd moon-calendar-api
   python3 -m venv venv
   source venv/bin/activate
   pip install -r requirements.txt
   
   # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
   export HOST=0.0.0.0
   export PORT=8000
   export DEBUG=false
   
   # –ó–∞–ø—É—Å–∫
   python run.py prod
   ```

3. –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° PUZZLEBOT:
   
   a) –°–æ–∑–¥–∞–π—Ç–µ HTTP –∑–∞–ø—Ä–æ—Å –≤ PuzzleBot:
      URL: http://YOUR_SERVER_IP:8000/api/v1/moon-calendar/current
      Method: GET
      
   b) –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, moon_data)
   
   c) –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç—É –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ –∑–∞–ø—Ä–æ—Å–µ –∫ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏:
      {
        "model": "google/gemini-2.0-flash-001",
        "messages": [
          {
            "role": "system", 
            "content": "–û–±—Ä–∞–±–æ—Ç–∞–π –¥–∞–Ω–Ω—ã–µ –ª—É–Ω–Ω–æ–≥–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—è –∏ —Å–æ–∑–¥–∞–π –∫—Ä–∞—Ç–∫—É—é —Å–≤–æ–¥–∫—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
            1. üåë –§–∞–∑–∞: {—Ñ–∞–∑–∞ –ª—É–Ω—ã}
            2. ‚è± –í—Ä–µ–º—è: {–≤—Ä–µ–º—è –ª—É–Ω–Ω—ã—Ö –¥–Ω–µ–π}  
            3. üí´ –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏: {—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏}
            4. ‚ö† –°–æ–≤–µ—Ç—ã: {—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏}"
          },
          {
            "role": "user",
            "content": "–î–∞–Ω–Ω—ã–µ: {{moon_data}}"
          }
        ]
      }

4. –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï:
   ```bash
   python test_client.py
   ```

–ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê –ê–†–•–ò–¢–ï–ö–¢–£–†–´:

‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ - –±—ã—Å—Ç—Ä—ã–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã  
‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –º–æ–¥—É–ª–∏
‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–µ—Ç—Ä–∏–∫–∏
‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥
‚úÖ –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ failover
‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ - RESTful API
‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–Ω—É - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

–°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å –ª–æ–∫–∞–ª—å–Ω–æ
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —á–µ—Ä–µ–∑ test_client.py
3. –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ —Å PuzzleBot
4. –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –Ω–∞ VPS
5. –î–æ–±–∞–≤—å—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
6. –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–π—Ç–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏



–≠—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –º–æ–¥—É–ª–∏ –≤ –±—É–¥—É—â–µ–º. –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –º–æ–¥—É–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏–∏) –Ω—É–∂–Ω–æ:
–°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é modules/numerology/ —Å —Ñ–∞–π–ª–∞–º–∏:
__init__.py
models.py
parser.py
service.py
–°–æ–∑–¥–∞—Ç—å API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –≤ api/v1/numerology.py
–ü–æ–¥–∫–ª—é—á–∏—Ç—å —Ä–æ—É—Ç–µ—Ä –≤ main.py
–¢–∞–∫–∞—è –º–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
–ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
–õ–µ–≥–∫–æ—Å—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—â–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–∫—ç—à, —É—Ç–∏–ª–∏—Ç—ã –∏ —Ç.–¥.)
–ü—Ä–æ—Å—Ç–æ—Ç—É –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è