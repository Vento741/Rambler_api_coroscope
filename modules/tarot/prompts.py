"""
Детальные промпты для различных раскладов Таро
"""
from typing import Dict, Any

# Базовые промпты для каждого типа расклада
SPREAD_PROMPTS = {
    # Расклад на один день
    1: {
        "free": """
Проанализируй карту дня и предоставь краткое, но содержательное толкование. Обрати внимание на общую энергию дня и ключевые аспекты, на которые стоит обратить внимание. Заверши толкование конкретным советом на день.
""",
        "premium": """
Проведи глубокий анализ карты дня, раскрывая все её аспекты и нюансы. Рассмотри символизм карты, её элементы и цветовую гамму. Объясни, как энергия этой карты будет проявляться в течение дня в разных сферах жизни (работа, отношения, личностное развитие). Предложи конкретные практики и действия, которые помогут максимально использовать благоприятные аспекты карты или смягчить негативные. Завершите толкование подробным советом, включающим практические шаги.
"""
    },
    
    # Расклад на три карты
    2: {
        "free": """
Проанализируй три карты в контексте прошлого, настоящего и будущего. Обрати внимание на связь между картами и общую историю, которую они рассказывают. Предоставь краткое толкование для каждой позиции и завершите общим выводом и советом.
""",
        "premium": """
Проведи детальный анализ трёх карт в контексте прошлого, настоящего и будущего. Для каждой карты рассмотри её символизм, элементы и энергию в контексте её позиции. Особое внимание удели взаимосвязям между картами и тому, как они влияют друг на друга, создавая единую историю. Исследуй, как энергия из прошлого трансформируется в настоящем и к чему это может привести в будущем. Рассмотри различные возможные сценарии развития ситуации в зависимости от принимаемых решений. Предложи конкретные практики, действия и шаги для наилучшего развития ситуации. Завершите толкование глубоким анализом общей энергии расклада и детальными рекомендациями.
"""
    },
    
    # Кельтский крест
    3: {
        "free": """
Проанализируй ключевые позиции Кельтского креста, обращая внимание на центральные карты (текущая ситуация и препятствие) и итоговую карту. Предоставь краткое толкование основных позиций и общий вывод о ситуации. Завершите конкретным советом.
""",
        "premium": """
Проведи глубокий и детальный анализ всех десяти позиций Кельтского креста. Для каждой карты рассмотри её символизм и значение в контексте конкретной позиции. Особое внимание удели взаимосвязям между картами, особенно между центральным крестом (позиции 1-4) и колонной (позиции 5-10). Исследуй, как энергии разных карт усиливают или ослабляют друг друга. Проанализируй, как подсознательные влияния (позиция 3) и прошлый опыт (позиция 4) формируют текущую ситуацию (позиция 1) и создают препятствия (позиция 2). Рассмотри, как внешние факторы (позиция 8) и надежды/страхи (позиция 9) влияют на возможный исход (позиция 10). Предложи несколько возможных сценариев развития ситуации в зависимости от принимаемых решений. Разработай детальный план действий с конкретными шагами для достижения наилучшего результата. Завершите толкование глубоким анализом общей энергии расклада и подробными рекомендациями для трансформации и роста.
"""
    },
    
    # Расклад на отношения
    4: {
        "free": """
Проанализируй карты в контексте отношений между двумя людьми. Обрати внимание на энергии каждого человека, динамику их взаимодействия и основные препятствия. Предоставь краткое толкование каждой позиции и общий совет для улучшения отношений.
""",
        "premium": """
Проведи глубокий и многоуровневый анализ отношений на основе расклада. Для каждой карты рассмотри её символизм и значение в контексте конкретной позиции в отношениях. Исследуй индивидуальные энергии каждого человека (позиции 1 и 2), обращая внимание на их сильные стороны, страхи, ожидания и неосознанные паттерны. Проанализируй динамику взаимодействия (позиция 3), выявляя как гармоничные аспекты, так и области напряжения. Детально рассмотри препятствия (позиция 4), разделяя внешние обстоятельства и внутренние блоки каждого человека. Исследуй потенциал отношений (позиция 5), включая возможные сценарии развития в зависимости от действий обоих партнеров. Предложи конкретные практики и упражнения для улучшения коммуникации, углубления связи и преодоления препятствий. Разработай индивидуальные рекомендации для каждого человека и общие советы для пары. Завершите толкование глубоким анализом кармических связей, уроков и потенциала духовного роста через эти отношения.
"""
    },
    
    # Расклад на желание
    5: {
        "free": """
Проанализируй карты в контексте загаданного желания. Обрати внимание на истинную природу желания, основные препятствия и возможную помощь. Предоставь краткое толкование каждой позиции и оцени вероятность исполнения желания. Завершите конкретным советом.
""",
        "premium": """
Проведи глубокий и детальный анализ всех аспектов загаданного желания. Для каждой карты рассмотри её символизм и значение в контексте конкретной позиции. Начни с исследования истинной природы желания (позиция 1), раскрывая как осознанные мотивы, так и подсознательные стремления. Проанализируй, насколько это желание соответствует высшему благу человека и его духовному пути. Детально рассмотри препятствия (позиция 2), разделяя внешние обстоятельства, внутренние блоки и кармические факторы. Исследуй возможные источники помощи и поддержки (позиция 3), включая людей, обстоятельства и внутренние ресурсы. Разработай детальный план действий (позиция 4) с конкретными шагами, временными рамками и альтернативными стратегиями. Проанализируй вероятный исход (позиция 5), рассматривая различные сценарии и их последствия для разных сфер жизни. Оцени, будет ли исполнение желания действительно благоприятным в долгосрочной перспективе. Предложи практики для усиления намерения, очищения энергии желания и гармонизации с высшими силами. Завершите толкование глубоким анализом уроков и возможностей для роста, которые предоставляет сам процесс стремления к этому желанию.
"""
    }
}

def get_spread_prompt(spread_id: int, user_type: str) -> str:
    """
    Получение специфичного промпта для конкретного расклада и типа пользователя
    
    :param spread_id: ID расклада
    :param user_type: Тип пользователя (free/premium)
    :return: Промпт для расклада
    """
    # Проверяем наличие специфичного промпта для данного расклада
    if spread_id in SPREAD_PROMPTS:
        # Проверяем наличие промпта для данного типа пользователя
        if user_type in SPREAD_PROMPTS[spread_id]:
            return SPREAD_PROMPTS[spread_id][user_type]
    
    # Если специфичного промпта нет, возвращаем пустую строку
    return "" 